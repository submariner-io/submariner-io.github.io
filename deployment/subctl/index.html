<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.71.0" />
    <meta name="description" content="Documentation website for the Submariner project">
<meta name="author" content="The Submariner community">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>subctl :: Submariner k8s project documentation website</title>

    
    <link href="/css/nucleus.css?1603772130" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1603772130" rel="stylesheet">
    <link href="/css/hybrid.css?1603772130" rel="stylesheet">
    <link href="/css/featherlight.min.css?1603772130" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1603772130" rel="stylesheet">
    <link href="/css/auto-complete.css?1603772130" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1603772130" rel="stylesheet">
    <link href="/css/theme.css?1603772130" rel="stylesheet">
    <link href="/css/hugo-theme.css?1603772130" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1603772130" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1603772130"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/deployment/subctl/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/" style="display: block;">
    <object data="/images/logo-submariner.svg" type="image/svg+xml" style="pointer-events: none;">
        <span>Your browser doesn't support SVG images</span>
    </object>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1603772130"></script>
<script type="text/javascript" src="/js/auto-complete.js?1603772130"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1603772130"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/quickstart/" title="Quickstart Guide" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/">
          <b>1. </b>Quickstart Guide
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/quickstart/kind/" title="kind (Local Environment)" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/kind/">
          kind (Local Environment)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/quickstart/openshift/" title="OpenShift (AWS)" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/openshift/">
          OpenShift (AWS)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/quickstart/openshift/service_discovery/" title="With Service Discovery" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/openshift/service_discovery/">
          With Service Discovery
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/quickstart/openshift/globalnet/" title="With Service Discovery and Globalnet" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/openshift/globalnet/">
          With Service Discovery and Globalnet
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/openshift/create_clusters/" title="" class="dd-item ">
        <a href="/quickstart/openshift/create_clusters/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/openshift/ready_clusters/" title="" class="dd-item ">
        <a href="/quickstart/openshift/ready_clusters/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/openshift/setup_openshift/" title="" class="dd-item ">
        <a href="/quickstart/openshift/setup_openshift/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/quickstart/vsphere_aws/" title="OpenShift with Service Discovery (vSphere/AWS)" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/vsphere_aws/">
          OpenShift with Service Discovery (vSphere/AWS)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/quickstart/rancher/" title="Rancher 2.x" class="dd-item 
        
        
        
        ">
      <a href="/quickstart/rancher/">
          Rancher 2.x
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/quickstart/rancher/create_clusters/" title="" class="dd-item ">
        <a href="/quickstart/rancher/create_clusters/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/rancher/prerequisites/" title="" class="dd-item ">
        <a href="/quickstart/rancher/prerequisites/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/verify_with_discovery/" title="" class="dd-item ">
        <a href="/quickstart/verify_with_discovery/">
        
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/deployment/" title="Deployment" class="dd-item 
        parent
        
        
        ">
      <a href="/deployment/">
          <b>2. </b>Deployment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/deployment/subctl/" title="subctl" class="dd-item 
        parent
        active
        
        ">
      <a href="/deployment/subctl/">
          subctl
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/deployment/helm/" title="Helm" class="dd-item 
        
        
        
        ">
      <a href="/deployment/helm/">
          Helm
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/deployment/calico/" title="Calico CNI" class="dd-item 
        
        
        
        ">
      <a href="/deployment/calico/">
          Calico CNI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/architecture/" title="Architecture" class="dd-item 
        
        
        
        ">
      <a href="/architecture/">
          <b>3. </b>Architecture
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/architecture/broker/" title="Broker" class="dd-item 
        
        
        
        ">
      <a href="/architecture/broker/">
          Broker
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/architecture/gateway-engine/" title="Gateway Engine" class="dd-item 
        
        
        
        ">
      <a href="/architecture/gateway-engine/">
          Gateway Engine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/architecture/route-agent/" title="Route Agent" class="dd-item 
        
        
        
        ">
      <a href="/architecture/route-agent/">
          Route Agent
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/architecture/globalnet/" title="Globalnet Controller" class="dd-item 
        
        
        
        ">
      <a href="/architecture/globalnet/">
          Globalnet Controller
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/architecture/service-discovery/" title="Service Discovery" class="dd-item 
        
        
        
        ">
      <a href="/architecture/service-discovery/">
          Service Discovery
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/monitoring/" title="Monitoring" class="dd-item 
        
        
        
        ">
      <a href="/monitoring/">
          <b>4. </b>Monitoring
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/troubleshooting/" title="Troubleshooting Guide" class="dd-item 
        
        
        
        ">
      <a href="/troubleshooting/">
          <b>5. </b>Troubleshooting Guide
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/releases/" title="Releases" class="dd-item 
        
        
        
        ">
      <a href="/releases/">
          <b>6. </b>Releases
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reading_material/" title="Online Resources" class="dd-item 
        
        
        
        ">
      <a href="/reading_material/">
          <b>7. </b>Online Resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/roadmap/" title="Roadmap" class="dd-item 
        
        
        
        ">
      <a href="/roadmap/">
          <b>8. </b>Roadmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contributing/" title="Contributing" class="dd-item 
        
        
        
        ">
      <a href="/contributing/">
          <b>9. </b>Contributing
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/contributing/building_testing/" title="Building and Testing" class="dd-item 
        
        
        
        ">
      <a href="/contributing/building_testing/">
          Building and Testing
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/code-of-conduct/" title="Code of Conduct" class="dd-item 
        
        
        
        ">
      <a href="/contributing/code-of-conduct/">
          Code of Conduct
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/code-review/" title="Code Review Guide" class="dd-item 
        
        
        
        ">
      <a href="/contributing/code-review/">
          Code Review Guide
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/community-membership/" title="Community Membership" class="dd-item 
        
        
        
        ">
      <a href="/contributing/community-membership/">
          Community Membership
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/website/" title="Contributing to the Website" class="dd-item 
        
        
        
        ">
      <a href="/contributing/website/">
          Contributing to the Website
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/contributing/website/style_guide/" title="Docs Style Guide" class="dd-item ">
        <a href="/contributing/website/style_guide/">
        Docs Style Guide
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/release-process/" title="Release Process" class="dd-item 
        
        
        
        ">
      <a href="/contributing/release-process/">
          Release Process
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/shipyard/" title="Working With Shipyard" class="dd-item 
        
        
        
        ">
      <a href="/contributing/shipyard/">
          Working With Shipyard
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/contributing/shipyard/first_time/" title="Adding Shipyard to a Project" class="dd-item 
        
        
        
        ">
      <a href="/contributing/shipyard/first_time/">
          Adding Shipyard to a Project
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/contributing/shipyard/advanced/" title="Advanced Features" class="dd-item 
        
        
        
        ">
      <a href="/contributing/shipyard/advanced/">
          Advanced Features
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/submariner-io/"><i class='fab fa-fw fa-github'></i> GitHub</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://kubernetes.slack.com/archives/C010RJV694M"><i class='fab fa-fw fa-slack'></i> Slack</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://bit.ly/submariner-users"><i class='fas fa-fw fa-envelope'></i> User mailing list</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://bit.ly/submariner-dev"><i class='fas fa-fw fa-envelope'></i> Devel mailing list</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.youtube.com/channel/UCZ3brSgl2v4boglZoeChClQ/videos"><i class='fas fa-fw fa-video'></i> YouTube</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://twitter.com/submarinerio"><i class='fab fa-fw fa-twitter'></i> Twitter</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://calendar.google.com/calendar?cid=NHFuZGVoOGY0bzZ1ajlvZnBsczh1NWNlZ2tAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ"><i class='fas fa-fw fa-calendar'></i> Google Calendar</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/submariner-io/submariner-operator/releases" data-icon="octicon-cloud-download" aria-label="Download Submariner/subctl on github">Download</a>

    
    <a class="github-button" href="https://github.com/submariner-io/submariner" data-icon="octicon-star" data-show-count="true" aria-label="Star submariner-io/submariner on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/submariner-io/submariner/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork submariner-io/submariner on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/submariner-io/website/edit/master/src/content/deployment/subctl/_index.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/deployment/'>Deployment</a> > subctl
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#synopsis">Synopsis</a></li>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#installing-specific-versions">Installing specific versions</a></li>
      </ul>
    </li>
    <li><a href="#commands">Commands</a>
      <ul>
        <li><a href="#deploy-broker"><code>deploy-broker</code></a></li>
        <li><a href="#export"><code>export</code></a></li>
        <li><a href="#join"><code>join</code></a></li>
        <li><a href="#show"><code>show</code></a></li>
        <li><a href="#verify"><code>verify</code></a></li>
        <li><a href="#benchmark"><code>benchmark</code></a></li>
        <li><a href="#version"><code>version</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              subctl
            </h1>
          

        




	<p><code>subctl</code> is a command line utility designed to simplify the deployment and maintenance of
Submariner across your clusters.</p>
<p><code>subctl</code> helps to automate the deployment of the Submariner <a href="https://github.com/submariner-io/submariner-operator">Operator</a>, thereby
reducing the possibility of mistakes during the process.</p>
<p><code>subctl</code> connects to specified cluster(s) and performs the requested command.</p>
<h2 id="synopsis">Synopsis</h2>
<p><code>subctl [command] [--flags] ...</code></p>
<h2 id="installation">Installation</h2>
Download the subctl binary and make it available on your PATH.

<div class="highlight">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-bash" data-lang="bash">
curl -Ls https://get.submariner.io | bash
export PATH=$PATH:~/.local/bin
echo export PATH=\$PATH:~/.local/bin >> ~/.profile
</code>
</pre>
</div>

<h3 id="installing-specific-versions">Installing specific versions</h3>
<p>By default, <a href="https://get.submariner.io">https://get.submariner.io</a> will provide the latest release for <code>subctl</code>, and hence Submariner.
Specific versions can be requested by using the VERSION environment variable.</p>
<p>Avalailable options are:</p>
<ul>
<li><code>latest</code>: the latest stable release (default)</li>
<li><code>devel</code>: the master branch code.</li>
<li><code>rc</code>: the latest release candidate.</li>
<li><code>x.x.x</code> (like 0.6.1, 0.5.0, etc)</li>
</ul>
<p>For example</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl https://get.submariner.io | VERSION<span style="color:#f92672">=</span>devel bash
</code></pre></div><h2 id="commands">Commands</h2>
<h3 id="deploy-broker"><code>deploy-broker</code></h3>
<p><code>subctl deploy-broker [flags]</code></p>
<p>The <code>deploy-broker</code> command configures the cluster specified by the <code>--kubeconfig</code> flag (or <code>KUBECONFIG</code> env var) and the <code>--kubecontext</code>
flag as the Broker. It installs the necessary CRDs and the <code>submariner-k8s-broker</code> namespace.</p>
<p>In addition, it generates a <code>broker-info.subm</code> file which can be used with the <code>join</code> command to connect clusters to the Broker. This file
contains the following details:</p>
<ul>
<li>Encryption PSK key</li>
<li>Broker access details for subsequent <code>subctl</code> runs</li>
<li>Service Discovery settings</li>
</ul>
<h4 id="deploy-broker-flags"><code>deploy-broker</code> flags</h4>
<!-- markdownlint-disable line-length -->
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--kubeconfig</code> <code>&lt;string&gt;</code></td>
<td align="left">Absolute path(s) to the kubeconfig file(s) (default <code>$HOME/.kube/config</code>)</td>
</tr>
<tr>
<td align="left"><code>--kubecontext</code> <code>&lt;string&gt;</code></td>
<td align="left">kubeconfig context to use</td>
</tr>
<tr>
<td align="left"><code>--service-discovery</code></td>
<td align="left">Enable Multi Cluster Service Discovery (default true)</td>
</tr>
<tr>
<td align="left"><code>--globalnet</code></td>
<td align="left">Enable support for overlapping Cluster/Service CIDRs in connecting clusters (default disabled)</td>
</tr>
<tr>
<td align="left"><code>--globalnet-cidr-range</code> <code>&lt;string&gt;</code></td>
<td align="left">Global CIDR supernet range for allocating GlobalCIDRs to each cluster (default &ldquo;169.254.0.0/16&rdquo;)</td>
</tr>
<tr>
<td align="left"><code>--ipsec-psk-from</code> <code>&lt;string&gt;</code></td>
<td align="left">Import IPsec PSK from existing Submariner broker file, like broker-info.subm (default <code>broker-info.subm</code>)</td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable line-length -->
<h3 id="export"><code>export</code></h3>
<h4 id="export-service"><code>export service</code></h4>
<p><code>subctl export service [flags] &lt;name&gt;</code> creates a <code>ServiceExport</code> resource for the given Service name. This makes the corresponding Service
discoverable from other clusters in the Submariner deployment.</p>
<h4 id="export-service-flags"><code>export service</code> flags</h4>
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--kubeconfig</code> <code>&lt;string&gt;</code></td>
<td align="left">Absolute path(s) to the kubeconfig file(s) (default <code>$HOME/.kube/config</code>)</td>
</tr>
<tr>
<td align="left"><code>--kubecontext</code> <code>&lt;string&gt;</code></td>
<td align="left">Kubeconfig context to use</td>
</tr>
<tr>
<td align="left"><code>--namespace</code> <code>&lt;string&gt;</code></td>
<td align="left">Namespace in which the Service to be exported belongs</td>
</tr>
</tbody>
</table>
<p>If no <code>namespace</code> flag is specified, it uses the default namespace from the current context, if present, otherwise it uses <code>default</code>.</p>
<h3 id="join"><code>join</code></h3>
<p><code>subctl join broker-info.subm [flags]</code></p>
<p>The <code>join</code> command deploys the Submariner Operator in a cluster using the settings provided in the <code>broker-info.subm</code> file. The service
account credentials needed for the new cluster to access the Broker cluster will be created and provided to the Submariner Operator
deployment.</p>
<h4 id="join-flags-general"><code>join</code> flags (general)</h4>
<!-- markdownlint-disable line-length -->
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--cable-driver</code> <code>&lt;string&gt;</code></td>
<td align="left">Cable driver implementation. Available options are <code>strongswan</code> (default), <code>libreswan</code>, and <code>wireguard</code></td>
</tr>
<tr>
<td align="left"><code>--clusterid</code> <code>&lt;string&gt;</code></td>
<td align="left">Cluster ID used to identify the tunnels. Every cluster needs to have a unique cluster ID. If not provided, one will be generated by default based on the cluster name in the <code>kubeconfig</code> file</td>
</tr>
<tr>
<td align="left"><code>--clustercidr</code> <code>&lt;string&gt;</code></td>
<td align="left">Specifies the cluster&rsquo;s CIDR used to generate Pod IP addresses. If not specified, <code>subctl</code> will try to discover it and if unable to do so, it will prompt the user</td>
</tr>
<tr>
<td align="left"><code>--no-label</code></td>
<td align="left">Skip gateway labeling. This disables the prompt for a Worker node to use as gateway</td>
</tr>
<tr>
<td align="left"><code>--enable-pod-debugging</code></td>
<td align="left">Enable Submariner pod debugging (verbose logging in the deployed pods)</td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable line-length -->
<h4 id="join-flags-globalnet"><code>join</code> flags (Globalnet)</h4>
<!-- markdownlint-disable line-length -->
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--globalnet-cluster-size</code> <code>&lt;value&gt;</code></td>
<td align="left">Cluster size for GlobalCIDR allocated to this cluster (amount of global IPs)</td>
</tr>
<tr>
<td align="left"><code>--globalnet-cidr</code> <code>&lt;string&gt;</code></td>
<td align="left">GlobalCIDR to be allocated to the cluster, this setting is exclusive with <code>--globalnet-cluster-size</code> and configures a specific Globalnet CIDR for this cluster</td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable line-length -->
<h4 id="join-flags-ipsec"><code>join</code> flags (IPsec)</h4>
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--disable-nat</code></td>
<td align="left">Disable NAT for IPsec</td>
</tr>
<tr>
<td align="left"><code>--ikeport</code> <code>&lt;value&gt;</code></td>
<td align="left">IPsec IKE port (default 500)</td>
</tr>
<tr>
<td align="left"><code>--ipsec-debug</code></td>
<td align="left">Enable IPsec debugging (verbose logging)</td>
</tr>
<tr>
<td align="left"><code>--nattport</code> <code>&lt;value&gt;</code></td>
<td align="left">IPsec NAT-T port (default 4500)</td>
</tr>
</tbody>
</table>
<h4 id="join-flags-images-and-repositories"><code>join</code> flags (images and repositories)</h4>
<!-- markdownlint-disable line-length -->
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--repository</code> <code>&lt;string&gt;</code></td>
<td align="left">The repository from where the various Submariner images will be sourced (default &ldquo;quay.io/submariner&rdquo;)</td>
</tr>
<tr>
<td align="left"><code>--version</code> <code>&lt;string&gt;</code></td>
<td align="left">Image version</td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable line-length -->
<h3 id="show"><code>show</code></h3>
<h4 id="show-networks"><code>show networks</code></h4>
<p><code>subctl show networks [flags]</code></p>
<p>Inspects the cluster and reports information about the detected network plugin and detected Cluster and Service CIDRs.</p>
<h4 id="show-versions"><code>show versions</code></h4>
<p><code>subctl show versions [flags]</code></p>
<p>Shows the version and image repository of each Submariner component in the cluster.</p>
<h4 id="show-gateways"><code>show gateways</code></h4>
<p><code>subctl show gateways [flags]</code></p>
<p>Shows summary information about the Submariner gateways in the cluster.</p>
<h4 id="show-connections"><code>show connections</code></h4>
<p><code>subctl show connections [flags]</code></p>
<p>Shows information about the Submariner endpoint connections with other clusters.</p>
<h4 id="show-endpoints"><code>show endpoints</code></h4>
<p><code>subctl show endpoints [flags]</code></p>
<p>Shows information about the Submariner endpoints in the cluster.</p>
<h4 id="show-all"><code>show all</code></h4>
<p><code>subctl show all [flags]</code></p>
<p>Shows the aggregated information from all the other show commands.</p>
<h4 id="show-flags"><code>show</code> flags</h4>
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--kubeconfig</code> <code>&lt;string&gt;</code></td>
<td align="left">Absolute path(s) to the kubeconfig file(s) (default <code>$HOME/.kube/config</code>)</td>
</tr>
<tr>
<td align="left"><code>--kubecontext</code> <code>&lt;string&gt;</code></td>
<td align="left">Kubeconfig context to use</td>
</tr>
</tbody>
</table>
<h3 id="verify"><code>verify</code></h3>
<p><code>subctl verify &lt;kubeConfig1&gt; &lt;kubeConfig2&gt; [flags]</code></p>
<p>The <code>verify</code> command verifies a Submariner deployment between two clusters is functioning properly. The <code>kubeConfig1</code> file will be
<code>ClusterA</code> in the reports, while <code>kubeConfig2</code> will be <code>ClusterB</code> in the reports. The <code>--verbose</code> flag is recommended to see what&rsquo;s
happening during the tests.</p>
<p>There are several suites of verifications that can be performed. By default all verifications are performed.  Some verifications are deemed
disruptive in that they change some state of the clusters as a side effect.  If running the command interactively, you will be prompted for
confirmation to perform disruptive verifications unless the <code>--enable-disruptive</code> flag is also specified. If running non-interactively (that
is with no stdin), <code>--enable-disruptive</code> must be specified otherwise disruptive verifications are skipped.</p>
<p>The <code>connectivity</code> suite verifies dataplane connectivity across the clusters for the following cases:</p>
<ul>
<li>Pods (on Gateway nodes) to Services</li>
<li>Pods (on non-Gateway nodes) to Services</li>
<li>Pods (on Gateway nodes) to Pods</li>
<li>Pods (on non-Gateway nodes) to Pods</li>
</ul>
<p>The <code>service-discovery</code> suite verifies DNS discovery of <code>&lt;service&gt;.&lt;namespace&gt;.svc.clusterset.local</code> entries across the clusters.</p>
<p>The <code>gateway-failover</code> suite verifies the continuity of cross-cluster dataplane connectivity after a gateway failure in a cluster occurs.
This suite requires a single gateway configured on <code>ClusterA</code> and other available Worker nodes capable of serving as gateways. Please note
that this verification is disruptive.</p>
<h4 id="verify-flags"><code>verify</code> flags</h4>
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--connection-attempts</code> <code>&lt;value&gt;</code></td>
<td align="left">The maximum number of connection attempts (default 2)</td>
</tr>
<tr>
<td align="left"><code>--connection-timeout</code> <code>&lt;value&gt;</code></td>
<td align="left">The timeout in seconds per connection attempt  (default 60)</td>
</tr>
<tr>
<td align="left"><code>--operation-timeout</code> <code>&lt;value&gt;</code></td>
<td align="left">Operation timeout for Kubernetes API calls (default 240)</td>
</tr>
<tr>
<td align="left"><code>--report-dir</code> <code>&lt;string&gt;</code></td>
<td align="left">XML report directory (default &ldquo;.&quot;)</td>
</tr>
<tr>
<td align="left"><code>--verbose</code></td>
<td align="left">Produce verbose logs during connectivity verification</td>
</tr>
<tr>
<td align="left"><code>--only</code></td>
<td align="left">Comma separated list of specific verifications to perform</td>
</tr>
<tr>
<td align="left"><code>--enable-disruptive</code></td>
<td align="left">Enable verifications which are potentially disruptive to your deployment</td>
</tr>
</tbody>
</table>
<h3 id="benchmark"><code>benchmark</code></h3>
<h4 id="benchmark-throughput"><code>benchmark throughput</code></h4>
<p><code>subctl benchmark throughput &lt;kubeconfig1&gt; [&lt;kubeconfig2&gt;] [flags]</code></p>
<p>The <code>benchmark throughput</code> command runs a throughput benchmark test between two specified clusters or within a single cluster.
It deploys a Pod to run the <a href="https://iperf.fr/">iperf</a> tool and logs the output to the console.
When running <code>benchmark throughput</code>, two types of tests will be executed:</p>
<ul>
<li>Pod to Pod - where both Pods are scheduled on Gateway nodes</li>
<li>Pod to Pod - where both Pods are scheduled on non-Gateway nodes</li>
</ul>
<h4 id="benchmark-latency"><code>benchmark latency</code></h4>
<p><code>subctl benchmark latency &lt;kubeconfig1&gt; [&lt;kubeconfig2&gt;] [flags]</code></p>
<p>The <code>benchmark latency</code> command runs a latency benchmark test between two specified clusters or within a single cluster.
It deploys a Pod to run the <a href="https://hewlettpackard.github.io/netperf/doc/netperf.html">netperf</a> tool and logs the output to the console.
When running <code>benchmark latency</code>, two types of tests will be executed:</p>
<ul>
<li>Pod to Pod - where both Pods are scheduled on Gateway nodes</li>
<li>Pod to Pod - where both Pods are scheduled on non-Gateway nodes</li>
</ul>
<h4 id="benchmark-flags"><code>benchmark</code> flags</h4>
<!-- markdownlint-disable line-length -->
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--intra-cluster</code></td>
<td align="left">Performs the benchmark test within a single cluster between Pods from a Non-Gateway node to a Gateway node</td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable line-length -->
<h3 id="version"><code>version</code></h3>
<p><code>subctl version</code></p>
<p>Prints the version details for the <code>subctl</code> binary.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/deployment/" title="Deployment"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/deployment/helm/" title="Helm" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1603772130"></script>
    <script src="/js/perfect-scrollbar.min.js?1603772130"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1603772130"></script>
    <script src="/js/jquery.sticky.js?1603772130"></script>
    <script src="/js/featherlight.min.js?1603772130"></script>
    <script src="/js/highlight.pack.js?1603772130"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1603772130"></script>
    <script src="/js/learn.js?1603772130"></script>
    <script src="/js/hugo-learn.js?1603772130"></script>

    <link href="/mermaid/mermaid.css?1603772130" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1603772130"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
