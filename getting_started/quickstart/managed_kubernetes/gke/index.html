<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.71.0" />
    <meta name="description" content="Documentation website for the Submariner project">
<meta name="author" content="The Submariner community">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Google (GKE) :: Submariner k8s project documentation website</title>

    
    <link href="/css/nucleus.css?1605863708" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1605863708" rel="stylesheet">
    <link href="/css/hybrid.css?1605863708" rel="stylesheet">
    <link href="/css/featherlight.min.css?1605863708" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1605863708" rel="stylesheet">
    <link href="/css/auto-complete.css?1605863708" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1605863708" rel="stylesheet">
    <link href="/css/theme.css?1605863708" rel="stylesheet">
    <link href="/css/hugo-theme.css?1605863708" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1605863708" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1605863708"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/getting_started/quickstart/managed_kubernetes/gke/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="/" style="display: block;">
    <object data="/images/logo-submariner.svg" type="image/svg+xml" style="pointer-events: none;">
        <span>Your browser doesn't support SVG images</span>
    </object>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1605863708"></script>
<script type="text/javascript" src="/js/auto-complete.js?1605863708"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1605863708"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/getting_started/" title="Getting Started" class="dd-item 
        parent
        
        
        ">
      <a href="/getting_started/">
          <b>1. </b>Getting Started
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/" title="Architecture" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/">
          Architecture
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/broker/" title="Broker" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/broker/">
          Broker
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/gateway-engine/" title="Gateway Engine" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/gateway-engine/">
          Gateway Engine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/route-agent/" title="Route Agent" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/route-agent/">
          Route Agent
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/service-discovery/" title="Service Discovery" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/service-discovery/">
          Service Discovery
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/architecture/globalnet/" title="Globalnet Controller" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/architecture/globalnet/">
          Globalnet Controller
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/" title="Quickstart Guides" class="dd-item 
        parent
        
        
        ">
      <a href="/getting_started/quickstart/">
          Quickstart Guides
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/kind/" title="Sandbox Environment (kind)" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/kind/">
          Sandbox Environment (kind)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/openshift/" title="OpenShift" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/openshift/">
          OpenShift
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/openshift/aws/" title="On AWS" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/openshift/aws/">
          On AWS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/openshift/globalnet/" title="On AWS with Globalnet" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/openshift/globalnet/">
          On AWS with Globalnet
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/openshift/vsphere_aws/" title="Hybrid vSphere and AWS" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/openshift/vsphere_aws/">
          Hybrid vSphere and AWS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/managed_kubernetes/" title="Managed Kubernetes" class="dd-item 
        parent
        
        
        ">
      <a href="/getting_started/quickstart/managed_kubernetes/">
          Managed Kubernetes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/managed_kubernetes/gke/" title="Google (GKE)" class="dd-item 
        parent
        active
        
        ">
      <a href="/getting_started/quickstart/managed_kubernetes/gke/">
          Google (GKE)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting_started/quickstart/managed_kubernetes/rancher/" title="Rancher" class="dd-item 
        
        
        
        ">
      <a href="/getting_started/quickstart/managed_kubernetes/rancher/">
          Rancher
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/operations/" title="Operations" class="dd-item 
        
        
        
        ">
      <a href="/operations/">
          <b>2. </b>Operations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/operations/deployment/" title="Deployment" class="dd-item 
        
        
        
        ">
      <a href="/operations/deployment/">
          Deployment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/operations/deployment/subctl/" title="subctl" class="dd-item 
        
        
        
        ">
      <a href="/operations/deployment/subctl/">
          subctl
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/operations/deployment/helm/" title="Helm" class="dd-item 
        
        
        
        ">
      <a href="/operations/deployment/helm/">
          Helm
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/operations/deployment/calico/" title="Calico CNI" class="dd-item 
        
        
        
        ">
      <a href="/operations/deployment/calico/">
          Calico CNI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/operations/monitoring/" title="Monitoring" class="dd-item 
        
        
        
        ">
      <a href="/operations/monitoring/">
          Monitoring
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/operations/troubleshooting/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/operations/troubleshooting/">
          Troubleshooting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/community/" title="Community" class="dd-item 
        
        
        
        ">
      <a href="/community/">
          <b>3. </b>Community
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/community/getting_help/" title="Getting Help" class="dd-item 
        
        
        
        ">
      <a href="/community/getting_help/">
          Getting Help
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/community/releases/" title="Releases" class="dd-item 
        
        
        
        ">
      <a href="/community/releases/">
          Releases
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/community/roadmap/" title="Roadmap" class="dd-item 
        
        
        
        ">
      <a href="/community/roadmap/">
          Roadmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/community/security/" title="Security Reporting" class="dd-item 
        
        
        
        ">
      <a href="/community/security/">
          Security Reporting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/for_developers/" title="For Developers" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/">
          <b>4. </b>For Developers
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/for_developers/dev_guide/" title="Development Guide" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/dev_guide/">
          Development Guide
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/for_developers/dev_guide/code-of-conduct/" title="Code of Conduct" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/dev_guide/code-of-conduct/">
          Code of Conduct
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/dev_guide/code-review/" title="Code Review Guide" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/dev_guide/code-review/">
          Code Review Guide
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/dev_guide/website/" title="Contributing to the Website" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/dev_guide/website/">
          Contributing to the Website
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/for_developers/dev_guide/website/style_guide/" title="Docs Style Guide" class="dd-item ">
        <a href="/for_developers/dev_guide/website/style_guide/">
        Docs Style Guide
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/building_testing/" title="Building and Testing" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/building_testing/">
          Building and Testing
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/community-membership/" title="Community Membership" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/community-membership/">
          Community Membership
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/release-process/" title="Release Process" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/release-process/">
          Release Process
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/shipyard/" title="Working With Shipyard" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/shipyard/">
          Working With Shipyard
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/for_developers/shipyard/first_time/" title="Adding Shipyard to a Project" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/shipyard/first_time/">
          Adding Shipyard to a Project
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/for_developers/shipyard/advanced/" title="Advanced Features" class="dd-item 
        
        
        
        ">
      <a href="/for_developers/shipyard/advanced/">
          Advanced Features
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reading_material/" title="Online Resources" class="dd-item 
        
        
        
        ">
      <a href="/reading_material/">
          <b>5. </b>Online Resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/submariner-io/"><i class='fab fa-fw fa-github'></i> GitHub</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://kubernetes.slack.com/archives/C010RJV694M"><i class='fab fa-fw fa-slack'></i> Slack</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://bit.ly/submariner-users"><i class='fas fa-fw fa-envelope'></i> User mailing list</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://bit.ly/submariner-dev"><i class='fas fa-fw fa-envelope'></i> Devel mailing list</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.youtube.com/channel/UCZ3brSgl2v4boglZoeChClQ/videos"><i class='fas fa-fw fa-video'></i> YouTube</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://twitter.com/submarinerio"><i class='fab fa-fw fa-twitter'></i> Twitter</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://calendar.google.com/calendar?cid=NHFuZGVoOGY0bzZ1ajlvZnBsczh1NWNlZ2tAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ"><i class='fas fa-fw fa-calendar'></i> Google Calendar</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/submariner-io/submariner-operator/releases" data-icon="octicon-cloud-download" aria-label="Download Submariner/subctl on github">Download</a>

    
    <a class="github-button" href="https://github.com/submariner-io/submariner" data-icon="octicon-star" data-show-count="true" aria-label="Star submariner-io/submariner on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/submariner-io/submariner/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork submariner-io/submariner on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/submariner-io/website/edit/master/src/content/getting_started/quickstart/managed_kubernetes/gke/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/getting_started/'>Getting Started</a> > <a href='/getting_started/quickstart/'>Quickstart Guides</a> > <a href='/getting_started/quickstart/managed_kubernetes/'>Managed Kubernetes</a> > Google (GKE)
          
         
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#cluster-creation">Cluster Creation</a></li>
    <li><a href="#prepare-clusters-for-submariner">Prepare Clusters for Submariner</a>
      <ul>
        <li><a href="#preparation-node-configuration">Preparation: Node Configuration</a></li>
        <li><a href="#preparation-firewall-configuration">Preparation: Firewall Configuration</a></li>
      </ul>
    </li>
    <li><a href="#deploy-submariner">Deploy Submariner</a>
      <ul>
        <li><a href="#final-workaround-for-kubedns">Final Workaround for KubeDNS</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Google (GKE)
            </h1>
          

        




	<p>This quickstart guide covers the necessary steps to deploy two Google Kubernetes Engine (GKE) clusters on Google Cloud Platform (GCP) using
<code>gcloud</code>. The clusters are named <strong>cluster-a</strong> and <strong>cluster-b</strong>.</p>
<p>Once the GKE clusters are deployed, we deploy Submariner with Service Discovery to interconnect the two clusters.
Note that this guide focuses on Submariner deployment on clusters with non-overlapping Pod and Service CIDRs.</p>

<div class="notices info" ><p>The guide assumes that you have a working GCP account and the <code>gcloud</code> binary installed and configured.
To get the binary, please visit <a href="https://cloud.google.com/sdk/docs/install">Google&rsquo;s website</a>.</p>
</div>

<h2 id="cluster-creation">Cluster Creation</h2>
<p>Create two identical Kubernetes clusters on GKE.
For this guide, the following minimal configuration was used, however not everything is required (see the note part below).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gcloud container clusters create <span style="color:#e6db74">&#34;cluster-a&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --zone <span style="color:#e6db74">&#34;europe-west3-a&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --cluster-ipv4-cidr <span style="color:#e6db74">&#34;10.0.0.0/14&#34;</span>
    --services-ipv4-cidr<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.3.240.0/20&#34;</span>
    --cluster-version <span style="color:#e6db74">&#34;1.17.13-gke.1400&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --username <span style="color:#e6db74">&#34;admin&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --machine-type <span style="color:#e6db74">&#34;g1-small&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --image-type <span style="color:#e6db74">&#34;UBUNTU&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --disk-type <span style="color:#e6db74">&#34;pd-ssd&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --disk-size <span style="color:#e6db74">&#34;15&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --num-nodes <span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --network <span style="color:#e6db74">&#34;default&#34;</span> <span style="color:#ae81ff">\
</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gcloud container clusters create <span style="color:#e6db74">&#34;cluster-b&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --zone <span style="color:#e6db74">&#34;europe-west3-a&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --cluster-ipv4-cidr <span style="color:#e6db74">&#34;10.4.0.0/14&#34;</span>
    --services-ipv4-cidr<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.7.240.0/20&#34;</span>
    --cluster-version <span style="color:#e6db74">&#34;1.17.13-gke.1400&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --username <span style="color:#e6db74">&#34;admin&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --machine-type <span style="color:#e6db74">&#34;g1-small&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --image-type <span style="color:#e6db74">&#34;UBUNTU&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --disk-type <span style="color:#e6db74">&#34;pd-ssd&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --disk-size <span style="color:#e6db74">&#34;15&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --num-nodes <span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --network <span style="color:#e6db74">&#34;default&#34;</span> <span style="color:#ae81ff">\
</span></code></pre></div>
<div class="notices note" ><p>Make sure to use Kubernetes version 1.17 or higher, set by <code>--cluster-version</code>
(refer to the <a href="https://cloud.google.com/kubernetes-engine/docs/release-notes">GKE docs/ release notes</a>).
Also double check for non-overlapping Pod and Service CIDRs between clusters using the commands below:</p>
</div>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gcloud container clusters describe <span style="color:#e6db74">&#34;cluster-a&#34;</span> --zone <span style="color:#e6db74">&#34;europe-west3-a&#34;</span> | grep -e clusterIpv4Cidr -e servicesIpv4Cidr
gcloud container clusters describe <span style="color:#e6db74">&#34;cluster-b&#34;</span> --zone <span style="color:#e6db74">&#34;europe-west3-a&#34;</span> | grep -e clusterIpv4Cidr -e servicesIpv4Cidr
</code></pre></div><h2 id="prepare-clusters-for-submariner">Prepare Clusters for Submariner</h2>
<p>Next, the created clusters need some changes in order for Submariner to successfully open the IPSEC tunnel between them.</p>
<h3 id="preparation-node-configuration">Preparation: Node Configuration</h3>
<p>As of version 0.7 of Submariner (the current one while writing this), Google&rsquo;s native CNI plugin is not directly supported.
GKE clusters can be generated with Calico CNI instead, but this was not tested during this demo and therefore could hold surprises as well.</p>
<p>So as this guide uses Google&rsquo;s native CNI plugin, configuration is needed for the <code>eth0</code> interface of each node on every cluster.
The used workaround deploys <code>netshoot</code> pods onto each node that configure the reverse path filtering.
The scripts in <a href="https://github.com/sridhargaddam/k8sscripts/tree/main/rp_filter_settings">this</a> Github repository need to be executed
in all clusters.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget https://raw.githubusercontent.com/sridhargaddam/k8sscripts/main/rp_filter_settings/update-rp-filter.sh
wget https://raw.githubusercontent.com/sridhargaddam/k8sscripts/main/rp_filter_settings/configure-rp-filter.sh
chmod +x update-rp-filter.sh
chmod +x configure-rp-filter.sh
echo KUBECONTEXT<span style="color:#f92672">=</span>cluster-a
./configure-rp-filter.sh
echo KUBECONTEXT<span style="color:#f92672">=</span>cluster-b
./configure-rp-filter.sh
</code></pre></div><h3 id="preparation-firewall-configuration">Preparation: Firewall Configuration</h3>
<p>Submariner requires UDP ports 500, 4500 and 4800 to be open in both directions.
Additionally the microservices&rsquo; traffic needs to flow through the IPsec tunnel as TCP packets.
Hence the TCP traffic has source and destination addresses originating in the participating clusters.
Create those firewall rules on the GCP project.</p>

<div class="notices note" ><p>Use the commands above to retrieve the <code>clusterIpv4Cidr</code> and <code>servicesIpv4Cidr</code> for both clusters.
If you copied the above code, you can just copy&amp;paste the values below for the <code>--source-ranges</code> and <code>--destination-ranges</code>.</p>
</div>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gcloud compute firewall-rules create <span style="color:#e6db74">&#34;allow-tcp-in&#34;</span> --allow<span style="color:#f92672">=</span>tcp <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --direction<span style="color:#f92672">=</span>IN --source-ranges<span style="color:#f92672">=</span>10.7.240.0/20,10.4.0.0/14,10.3.240.0/20,10.0.0.0/14

gcloud compute firewall-rules create <span style="color:#e6db74">&#34;allow-tcp-out&#34;</span> --allow<span style="color:#f92672">=</span>tcp --direction<span style="color:#f92672">=</span>OUT <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --destination-ranges<span style="color:#f92672">=</span>10.7.240.0/20,10.4.0.0/14,10.3.240.0/20,10.0.0.0/14

gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-in-500&#34;</span> --allow<span style="color:#f92672">=</span>udp:500 --direction<span style="color:#f92672">=</span>IN
gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-in-4500&#34;</span> --allow<span style="color:#f92672">=</span>udp:4500 --direction<span style="color:#f92672">=</span>IN
gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-in-4800&#34;</span> --allow<span style="color:#f92672">=</span>udp:4800 --direction<span style="color:#f92672">=</span>IN

gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-out-500&#34;</span> --allow<span style="color:#f92672">=</span>udp:500 --direction<span style="color:#f92672">=</span>OUT
gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-out-4500&#34;</span> --allow<span style="color:#f92672">=</span>udp:4500 --direction<span style="color:#f92672">=</span>OUT
gcloud compute firewall-rules create <span style="color:#e6db74">&#34;udp-out-4800&#34;</span> --allow<span style="color:#f92672">=</span>udp:4800 --direction<span style="color:#f92672">=</span>OUT
</code></pre></div><p>After this, the clusters are finally ready for Submariner!</p>
<h2 id="deploy-submariner">Deploy Submariner</h2>
Download the subctl binary and make it available on your PATH.

<div class="highlight">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-bash" data-lang="bash">
curl -Ls https://get.submariner.io | bash
export PATH=$PATH:~/.local/bin
echo export PATH=\$PATH:~/.local/bin >> ~/.profile
</code>
</pre>
</div>

<p>We will deploy the <a href="https://submariner.io/architecture/broker/">Broker</a> on <strong>cluster-a</strong>.
The command will output a file named <code>broker-info.subm</code> to the directory it is run from, which will be used to setup the
IPsec tunnel between clusters.</p>
<p>The Broker cluster&rsquo;s API must be accessible by all the participating clusters, which is given by GKE standard configuration.</p>
<p>Kubecontext and the kubeconfig file can be specified (it defaults to ~/.kube/config):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">subctl deploy-broker --kubecontext cluster-a --kubeconfig &lt;path/to/config&gt;
</code></pre></div><p>Verify the Broker components are installed using <code>kubectl</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get crds --context cluster-a | grep -i submariner
  &gt; clusters.submariner.io
    endpoints.submariner.io
    gateways.submariner.io
    multiclusterservices.lighthouse.submariner.io
    servicediscoveries.submariner.io
    serviceexports.lighthouse.submariner.io
    serviceimports.lighthouse.submariner.io
    submariners.submariner.io
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get ns --context cluster-a | grep -i submariner
  &gt; submariner-k8s-broker
</code></pre></div><p>Now it is time to register every cluster in the future clusterset to the Broker.</p>
<p>First join the Broker cluster itself (the Broker could also be deployed on a cluster that does not run workloads,
hence installing the Broker does not automatically add the cluster). The command tags the cluster for Submariner with the ID <code>cluster-a</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">subctl join --kubecontext cluster-a --kubeconfig &lt;path/to/config&gt; broker-info.subm --clusterid cluster-a
</code></pre></div><p>Submariner will figure out most information needed on its own. In addition, you will see a dialogue on the terminal that asks you to</p>
<ul>
<li>decide which of the three nodes shall be the Gateway. This node gets annotated with <code>submariner.io/gateway: true</code> automatically.</li>
<li>input the cluster&rsquo;s Pod and Service CIDR, if it could not be detected.</li>
</ul>
<p>When a cluster is joined, the Submariner Operator is installed. It creates several components in the <code>submariner-operator</code> namespace:</p>
<ul>
<li>a <code>submariner-gateway</code> DaemonSet, to open a gateway for the IPsec tunnel on one node</li>
<li>a <code>submariner-routeagent</code> DaemonSet, which runs on every worker node in order to route the internal traffic to the local gateway
via VXLAN tunnels</li>
<li>a <code>submariner-lighthouse-agent</code> Deployment, which accesses the Kubernetes API server in the Broker cluster to exchange Service
information with the Broker</li>
<li>a <code>submariner-lighthouse-coredns</code> Deployment, which - as an external DNS server - gets forwarded requests to the
<code>*.clusterset.local</code> domain for cross-cluster communication by Kubernetes&rsquo; internal DNS server</li>
</ul>
<p>Check the DaemonSets and Deployments with the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl --context cluster-a get ds,deploy -n submariner-operator
</code></pre></div><p>Repeat with the second cluster:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">subctl join --kubecontext cluster-b --kubeconfig &lt;path/to/config&gt; broker-info.subm --clusterid cluster-b
</code></pre></div><p>Then verify connectivity and CIDR settings within the clusterset using:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">subctl show all
</code></pre></div><p>You should see similar output to this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">CLUSTER ID    ENDPOINT IP    PUBLIC IP    CABLE DRIVER    TYPE
cluster-a     10.156.0.46     35.x.x.x    strongswan      local
cluster-b     10.156.0.42     35.x.x.x    strongswan      remote

GATEWAY    CLUSTER     REMOTE IP      CABLE DRIVER    SUBNETS                       STATUS
gke-*-*    cluster-a   10.156.0.42    strongswan      10.3.240.0/20, 10.0.0.0/14    connected

NODE       HA STATUS     SUMMARY
gke-*-*    active        All connections <span style="color:#f92672">(</span>1<span style="color:#f92672">)</span> are established
</code></pre></div><h3 id="final-workaround-for-kubedns">Final Workaround for KubeDNS</h3>
<p>GKE uses KubeDNS by default for cluster-internal DNS queries. Submariner however only works with CoreDNS as of version 0.7. As a
consequence, the <code>*.clusterset.local</code> domain stub needs to be added manually to KubeDNS.
Query the ClusterIP of the <code>submariner-lighthouse-coredns</code> Service in <strong>cluster-a</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">CLUSTER_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl --context cluster-a get svc submariner-lighthouse-coredns -n submariner-operator <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -o<span style="color:#f92672">=</span>custom-columns<span style="color:#f92672">=</span>ClusterIP:.spec.clusterIP | tail -n +2<span style="color:#66d9ef">)</span>
</code></pre></div><p>Use the information to apply the following ConfigMap, automatically replacing $CLUSTER_IP with the ClusterIP obtained for
the <code>submariner-lighthouse-coredns</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cat <span style="color:#e6db74">&lt;&lt;EOF | kubectl --context cluster-a apply -f -
</span><span style="color:#e6db74">apiVersion: v1
</span><span style="color:#e6db74">kind: ConfigMap
</span><span style="color:#e6db74">data:
</span><span style="color:#e6db74">  stubDomains: |
</span><span style="color:#e6db74">    {&#34;clusterset.local&#34;:[&#34;$CLUSTER_IP&#34;]}
</span><span style="color:#e6db74">metadata:
</span><span style="color:#e6db74">  labels:
</span><span style="color:#e6db74">    addonmanager.kubernetes.io/mode: EnsureExists
</span><span style="color:#e6db74">  name: kube-dns
</span><span style="color:#e6db74">  namespace: kube-system
</span><span style="color:#e6db74">EOF</span>
</code></pre></div>
<div class="notices note" ><p>Repeat both commands, the <code>CLUSTER_IP</code> discovery and the <code>kubectl apply</code>, this time using <code>--context cluster-b</code>.</p>
</div>



<h4 id="verify-deployment">Verify Deployment</h4>
<p>To manually verify the deployment, follow the steps below using either a headless or ClusterIP <code>nginx</code> service deployed in <code>cluster-b</code>.</p>
<h5 id="deploy-clusterip-service">Deploy ClusterIP Service</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KUBECONFIG<span style="color:#f92672">=</span>cluster-b/auth/kubeconfig
kubectl -n default create deployment nginx --image<span style="color:#f92672">=</span>nginxinc/nginx-unprivileged:stable-alpine
kubectl -n default expose deployment nginx --port<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span>
subctl export service --namespace default nginx
</code></pre></div><h5 id="deploy-headless-service">Deploy Headless Service</h5>
<p>Note that headless Services can only be exported on non-globalnet deployments.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KUBECONFIG<span style="color:#f92672">=</span>cluster-b/auth/kubeconfig
kubectl -n default create deployment nginx --image<span style="color:#f92672">=</span>nginxinc/nginx-unprivileged:stable-alpine
kubectl -n default expose deployment nginx --port<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span> --cluster-ip<span style="color:#f92672">=</span>None
subctl export service --namespace default nginx
</code></pre></div><h5 id="verify">Verify</h5>
<p>Run <code>nettest</code> from <code>cluster-a</code> to access the <code>nginx</code> service:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KUBECONFIG<span style="color:#f92672">=</span>cluster-a/auth/kubeconfig
kubectl -n default  run --generator<span style="color:#f92672">=</span>run-pod/v1 tmp-shell --rm -i --tty --image quay.io/submariner/nettest -- /bin/bash
curl nginx.default.svc.clusterset.local:8080
</code></pre></div><p>To access a Service in a specific cluster, prefix the query with <code>&lt;cluster-id&gt;</code> as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl cluster-a.nginx.default.svc.clusterset.local:8080
</code></pre></div><h4 id="verify-statefulsets">Verify StatefulSets</h4>
<p>A StatefulSet uses a headless Service. Create a <code>web.yaml</code> as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">apiVersion</span>: v1
<span style="color:#66d9ef">kind</span>: Service
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: nginx-ss
  <span style="color:#66d9ef">labels</span>:
    <span style="color:#66d9ef">app.kubernetes.io/instance</span>: nginx-ss
    <span style="color:#66d9ef">app.kubernetes.io/name</span>: nginx-ss
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">ports</span>:
  - <span style="color:#66d9ef">port</span>: <span style="color:#ae81ff">80</span>
    <span style="color:#66d9ef">name</span>: web
  <span style="color:#66d9ef">clusterIP</span>: None
  <span style="color:#66d9ef">selector</span>:
    <span style="color:#66d9ef">app.kubernetes.io/instance</span>: nginx-ss
    <span style="color:#66d9ef">app.kubernetes.io/name</span>: nginx-ss
---
<span style="color:#66d9ef">apiVersion</span>: apps/v1
<span style="color:#66d9ef">kind</span>: StatefulSet
<span style="color:#66d9ef">metadata</span>:
  <span style="color:#66d9ef">name</span>: web
<span style="color:#66d9ef">spec</span>:
  <span style="color:#66d9ef">serviceName</span>: <span style="color:#e6db74">&#34;nginx-ss&#34;</span>
  <span style="color:#66d9ef">replicas</span>: <span style="color:#ae81ff">2</span>
  <span style="color:#66d9ef">selector</span>:
    <span style="color:#66d9ef">matchLabels</span>:
        <span style="color:#66d9ef">app.kubernetes.io/instance</span>: nginx-ss
        <span style="color:#66d9ef">app.kubernetes.io/name</span>: nginx-ss
  <span style="color:#66d9ef">template</span>:
    <span style="color:#66d9ef">metadata</span>:
      <span style="color:#66d9ef">labels</span>:
        <span style="color:#66d9ef">app.kubernetes.io/instance</span>: nginx-ss
        <span style="color:#66d9ef">app.kubernetes.io/name</span>: nginx-ss
    <span style="color:#66d9ef">spec</span>:
      <span style="color:#66d9ef">containers</span>:
      - <span style="color:#66d9ef">name</span>: nginx-ss
        <span style="color:#66d9ef">image</span>: nginxinc/nginx-unprivileged:stable-alpine
        <span style="color:#66d9ef">ports</span>:
        - <span style="color:#66d9ef">containerPort</span>: <span style="color:#ae81ff">80</span>
          <span style="color:#66d9ef">name</span>: web
</code></pre></div><p>Use this yaml to create a StatefulSet <code>web</code> with <code>nginx-ss</code> as the Headless Service.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export KUBECONFIG<span style="color:#f92672">=</span>cluster-a/auth/kubeconfig
kubectl -n default apply -f web.yaml
subctl export service -n default nginx-ss
curl nginx-ss.default.svc.clusterset.local:8080
</code></pre></div><p>To access the Service in a specific cluster, prefix the query with <code>&lt;cluster-id&gt;</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl cluster-a.nginx-ss.default.svc.clusterset.local:8080
</code></pre></div><p>To access an individual pod in a specific cluster, prefix the query with <code>&lt;pod-hostname&gt;.&lt;cluster-id&gt;</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl web-0.cluster-a.nginx-ss.default.svc.clusterset.local:8080
</code></pre></div><h4 id="perform-automated-verification">Perform automated verification</h4>
<p>This will perform automated verifications between the clusters.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">subctl verify cluster-a/auth/kubeconfig cluster-b/auth/kubeconfig --only service-discovery,connectivity --verbose
</code></pre></div>







<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/getting_started/quickstart/managed_kubernetes/" title="Managed Kubernetes"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/getting_started/quickstart/managed_kubernetes/rancher/" title="Rancher" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1605863708"></script>
    <script src="/js/perfect-scrollbar.min.js?1605863708"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1605863708"></script>
    <script src="/js/jquery.sticky.js?1605863708"></script>
    <script src="/js/featherlight.min.js?1605863708"></script>
    <script src="/js/highlight.pack.js?1605863708"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1605863708"></script>
    <script src="/js/learn.js?1605863708"></script>
    <script src="/js/hugo-learn.js?1605863708"></script>

    <link href="/mermaid/mermaid.css?1605863708" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1605863708"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
